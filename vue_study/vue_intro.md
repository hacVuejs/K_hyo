# 01 Vue.js 소개

<br/>

## 01-1 Vue.js란 무엇인가?

<br/>

### 뷰의 탄생

뷰의 창시자인 에반이 구글에서 일할 당시 앵귤러의 데이터 바인딩 방식과 DOM에 직접 접근 하지 않고도 데이터를 표현하는 방식에 흥미를 느꼈으나,

앵귤러를 사용하기 위해서는 **방대한 크기의 프레임워크 구조를 이해**해야 했기에 부담을 느꼈습니다.

그래서 앵귤러의 명시적 데이터 바인딩과 같은 필수적인 요소들만 가지고 화면을 구현하기 시작하였고,

오픈소스화하면서 많은 사람들이 참여하여 기능을 붙여나가 시작! 그리하여 **뷰가 탄생**하였습니다.

<br/>

### **"뷰는 웹 페이지 화면을 개발하기 위한 프론트엔드 프레임워크입니다"**

뷰 코어 라이브러리는 화면단 데이터 표현에 관한 기능을 중점적으로 지원하지만, 
프레임워크 기능인 라우터, 상태관리, 테스팅 등을 쉽게 결합할 수 있는 형태로도 제공됩니다. 

즉 , 라이브러리 역할뿐만 아니라 프레임워크 역할도 할수 있다는 의미입니다. 
그래서 뷰를 점진적인 프레임워크라고 부를 수 있습니다.

<br/>

### **뷰의 장점**

1. 배우기가 쉽다.
   (앵귤러는 타입스크립트, ES6 / 리액트는 ES6, JSX등 학습이 필요로하므로 진입장벽이 높음)
2. 리액트와 앵귤러에 비해 성능이 우수하고 가볍고 빠르다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        (뷰 제작팀 테스트 케이스 결과)
3. 리액트와 앵귤러의 대표적인 장점들을 가지고 있다. 
   (앵귤러의 데이터 바인딩 특성과 리액트의 가상DOM기반 랜더링 특징을 모두 가지고 있음)


<br/>

------

<br/>

## 01-2 Vue.js의 특징

<br/>

### **UI 화면단 라이브러리**

뷰는 UI 화면 개발 방법 중 하나는 **MVVM 패턴의 뷰 모델에 해당하는 화면단 라이브러리**입니다.

> MVVM패턴이란 화면을 모델(Model)ㅡ뷰(View)ㅡ뷰 모델(ViewModel) 구조화 하여 개발하는 방식을 의미
>
> 프론트엔드의 화면 동작과 관련된 로직과 백엔드의 데이터베이스 처리 로직을 분리하여 더 깔끔하게 코드를 구성하는것

| 용어                        | 설명                                                         |
| --------------------------- | ------------------------------------------------------------ |
| 뷰(View)                    | 사용자에게 보이는 화면                                       |
| 돔(DOM)                     | HTML 문서에 들어가는 요소(태그,클래스,속성 등)의 <br />정보를 담고 있는 데이터 트리 |
| 돔 리스너(DOM Listener)     | 돔의 변경 내역에 대해 즉각적으로 <br />반응하여 특정 로직을 수행하는 장치 |
| 모델(Model)                 | 데이터를 담는 용기, 보통은 서버에서 가져온 데이터를 <br />자바스크립트 객체 형태로 저장 |
| 데이터 바인딩(Data Binding) | 뷰에 표시되는 내용과 모델의 데이터를 동기화                  |
| **뷰 모델(ViewModel)**      | **뷰와 모델의 중간 영역,<br />돔 리스너와 데이터 바인딩을 제공하는 영역** |

![viewmodelì ëí ì´ë¯¸ì§ ê²ìê²°ê³¼](https://012.vuejs.org/images/mvvm.png)

뷰에 어떤변화가 있을때 뷰모델에 돔리스너를 거쳐서 모델에 신호를 보내고 모델에서 변화된 데이터에 대해서  다시 뷰모델을 거쳐서 데이터바인딩 후 뷰로 보냈을때 화면이 리액티브하게 반응이 일어나는데, 

이런 리액티브한 프로그래밍이 가능하게끔하는것이 Vue.js 입니다.

<br/>

### 컴포넌트 기반 프레임워크

뷰가 가지는 또 하나의 큰 특징은 컴포넌트 기반 프레임워크라는 점입니다.

컴포넌트 방식으로 개발하는 이유는 코드 재사용하기 쉽고, HTML 코드에서 화면의 구조를 직관적으로 파악할수 있습니다.

최신 프론트앤드 프레임워크 리액트,앵귤러 모두 컴포넌트 기반의 개발방식을 추구합니다.

<br/>

### 리액트와 앵귤러의 장점을 가진 프레임워크

**앵귤러의 "양방향 데이터 바인딩(Two-way Data Binding)"** 

> 화면에 표시되는 값과 프레임워크의 모델 데이터 값이 동기화되어 한쪽이 변경되면 다른 한쪽도 자동으로 변경되는것을 말합니다.

**리액트의 "단방향 데이터 흐름(One-way Data flow)"**

> 컴포넌트의 단방향 통신을 의미합니다. 컴포넌트 간에 데이터를 전달할 때 항상 상위 컴포넌트에서 하위 컴포넌트 한방향으로만 전달하게끔 프레임워크가 구조화되어 있는것을 말합니다.

**리액트의 "가상 돔(Virtual DOM)"**

> 빠른 화면 랜더링을 위해 가상돔 방식을 적용하여 화면 전체를 다시 그리지 않고 프레임워크가 정의한 방식에 따라 화면을 갱신합니다. 따라서 브라우저 입장에서는 성능부하가 줄어들어 일반 렌더링 방식보다 더 빠르게 화면을 그릴수 있습니다.

위의 장점을 모두 결한합 프레임 워크입니다.

<br/>

------

<br/>

## 03-1 뷰 인스턴스

<br/>

### 뷰 인스턴스의 정의와 속성

뷰 인스턴스는 뷰로 화면을 개발하기 위해 필수 적으로 생성해야하는 기본단위 입니다.

<br/>

#### 뷰 인스턴스 생성

```javascript
new Vue({
    ...
});
```

```html
<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="utf-8">
        <title>Vue Sample</title>
    </head>
    <body>
        <div id="app">
            {{message}}
        </div>
        <script src="https://unpkg.com/vue/dist/vue.js"></script>
        <script>
            //인스턴스
			new Vue({
				el: '#app',//el 속성
				data: { //data 속성
					message: 'Hellow Vue.js!'
				}
			})
        </script>
    </body>
</html>
```

> Hellow Vue.js!를 출력하는 코드

<br/>

#### 뷰 인스턴스 생성자

new Vue()로 인스턴스를 생성할 때 Vue를 생성자라고 합니다. Vue 생성자는 뷰 라이브러리를 로딩하고 나면 접근할 수 있습니다. 

생성자를 사용하는 이유는 뷰로 개발할 때 필요한 기능들을 생성자에 미리 정의해 놓고 사용자가 그 기능을 재정의하여 편리하게 사용하도록 하기 위해서 입니다.

<br/>

### 뷰 인스턴스 옵션 속성

뷰 인스턴스 옵션 속성은 인스턴스를 생성할 때 재 정의할 data, el, template 등의 속성을 의미합니다.

```javascript
//인스턴스
new Vue({
    el: '#app',//el 속성 : 뷰로 만든 화면이 그려지는 시작점 (#app 돔 요소 css 선택자 규칙과같음)
    data: { //data 속성 : message라는 새로운 속성을 추가하고 'Hellow Vue.js!'값 부여
        message: 'Hellow Vue.js!'
    }
})
```

| 속성     | 설명                                                         |
| -------- | ------------------------------------------------------------ |
| template | 화면에 표시할 HTML, CSS 등의 마크업 요소를 정의하는 속성, <br />뷰의 데이터 및 기타 속성들도 함께 화면에 그릴 수 있음 |
| methods  | 화면 로직 제어와 관계된 메소드를 정의하는 속성,<br />마우스 클릭 이벤트 처리와 같은 화면의 전반적인 이벤트와 <br />화면 동작과 관련된 로직을 추가할 수 있음 |
| created  | 뷰 인스턴스가 생성되자마자 실행할 로직을 정의할 수 있는 속성 |

<br/>

### 뷰 인스턴스의 유효범위

뷰 인스턴스를 생성하면 HTML 특정 범위 안에서만 옵션 속성들이 적용되어 나타납니다. 이를 인스턴스의 유효범위라고 합니다.

> **인스턴스가 유효범위를 벗어 났을 경우**
>
> 현재 코드에 el 속성으로 지정한 div id="app"태그 아래에 오는 요소들로 제한되어 태그 밖에있는 {{message}} 요소를 인식하지 못하기 때문에 텍스트가 바뀌지않고 {{message}} 그대로 출력됩니다. 
>

```html
<script>
new Vue({
    el: '#app',//el 속성 : 뷰로 만든 화면이 그려지는 시작점
    data: {//data 속성 : message라는 새로운 속성을 추가하고 'Hellow Vue.js!'값 부여
        message: 'Hellow Vue.js!'
    }
})
</script>

<div id="app">

</div>

{{message}}
```

<br/>

### 뷰 인스턴스 라이브 사이클

인스턴스의 상태에 따라 호출할 수 있는 속성들을 **라이프 사이클(life cycle)** 속성이라고 합니다.

그리고 각 라이프 사이클 속성에서 실행되는 커스텀 로직을 라이프 사이클 훅(hook)이라고 합니다.



![vue lifecycleì ëí ì´ë¯¸ì§ ê²ìê²°ê³¼](http://cfile8.uf.tistory.com/image/994C103B5A7878FE221AFE)



위 그림은 인스턴스가 생성되고 나서 소멸되기까지의 전체적인 흐름을 나타낸 뷰 인스턴스 라이프 사이클 다이어 그램입니다.

라이프 사이클 단계를 크게 나누면 **인스턴스 생성**, **생성된 인스턴스를 화면에 부착**, **화면에 부착된 인스턴스의 내용이 갱신**, **인스턴스가 제거되는 소멸** 4단계로 이루어집니다.

<br/>

| 단계          | 설명                                                         |
| ------------- | ------------------------------------------------------------ |
| beforeCreate  | 인스턴스가 생성되고 나서 가장 처음으로 싱행되는 단계입니다.<br />이 단계에서는 data 속성과 methods 속성이 <br />아직 인스턴스에 정의되어 있지 않고, <br />돔과 같은 화면 요소에도 접근할수 없습니다. |
| created       | beforeCreate 단계 다음에 실행되는 단계입니다. <br />data 속성과 methods 속성이 정의 되었기 때문에 <br />this.data와 같이 속성에 정의된 값에 접근하여 로직을 실행 할수 있습니다. <br />다만, 아직 인스턴스가 화면에 부착되기 전이기 때문에 <br />template 속성에 정의된 돔 요소로 접근할수 없습니다. <br />그리고, data 속성과 methods 속성에 접근할 수 있는 <br />첫 단계이자 컴포넌트가 생성되고 나서 실행되는 단계이기 때문에 <br />서버에 데이터를 요청하여 받아오는 로직을 수행하기 좋습니다. |
| beforeMount   | created단계 이후 <br />template 속성에 지정한 마크업 속성을 render() 함수로 변환한 후 <br />el 속성에 지정한 화면 요소에 인스턴스를 부착하기 전에 호출되는 단계입니다. <br />render() 함수가 호출되기 직전의 로직을 추가하기 좋습니다. |
| mounted       | 인스턴스가 부착되고 나면 호출되는 단계로, <br />template 속성에 정의한 화면 요소에 접근할 수 있어 <br />화면 요소를 제어하는 로직을 수행하기 좋은 단계입니다. <br />다만, 돔에 인스턴스가 부착되자마자 호출되기 때문에 <br />하위 컴포넌트나 외부 라이브러리에 의해 추가된 화면 요소들이 <br />최종 HTML 코드로 변환되는 시점과 다를수있습니다. |
| beforeUpdate  | 인스턴스가 부탁되고나면 인스턴스에 정의한 속성들이 화면에 치환됩니다. <br />치환된 값은 뷰의 반응성을 제공하기위해 $watch 속성으로 감시합니다. <br />이를 데이터 관찰이라고합니다. <br /><br />beforeUpdate는 관찰하고 있는 데이터가 변경되면 <br />가상 돔으로 화면을 다시 그리기 전에 호출되는 단계이며 <br />변경 예정인 새 데이터에 접근 할수있어서 변경 예정 데이터의 값과 관련된 로직을 미리 넣을 수 있습니다.  <br />만약 여기에 값을 변경하는 로직을 넣더라도 화면이 다시 그려지지는 않습니다. |
| updated       | 데이터가 변경되고 나서 가상 돔으로 다시 화면을 그리고나면 실행되는 단계입니다. <br />데이터 변경까지 완료된 시점임으로 데이터 변경후 화면 요소 제어와 관련된 로직을 추가하기 좋은 단계입니다. <br />이 단계에서 데이터 값을 변경하면 무한 루프에 빠질 수 있기 때문에 값을 변경하려면 computed, watch 속성을 사용해야합니다. <br />따라서, 데이터 값을 갱신하는 로직을 beforeUpdate, 변경 데이터의 화면요소와 관련된 로직은 updated에 추가하는 것이 좋습니다. |
| beforeDestroy | 뷰 인스턴스가 파괴되기 직전에 호출되는 단계, 인스턴스 접근가능, 따라서 데이터를 삭제하기 좋은 단계입니다. |
| destroyed     | 뷰인스턴스가 파괴되고 나서 호출되는 단계입니다. 모든 속성이 제가되고 하위에 선언한 인스턴스들 또한 모두 파괴됩니다. |

> 라이프 사이클 훅이 실제로 어떻게 동작하는지 확인하기 위한 예제
>
> updated는 데이터 변경이 일어나 화면을 다시 그려졌을때 호출되는 로직이기 때문에 출력이 안됨

```html
<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="utf-8">
        <title>Vue Sample</title>
    </head>
    <body>
        <div id="app">
            {{message}}
        </div>
        <script src="https://unpkg.com/vue/dist/vue.js"></script>
        <script>
            //인스턴스
			new Vue({
				el: '#app',//el 속성
				data: { //data 속성
					message: 'Hellow Vue.js!'
				},
				beforeCreate:function(){
					console.log("beforeCreate");
				},
				created:function(){
					console.log("created");
				},
				mounted:function(){
					console.log("mounted");
					//this.message="값 변경했어용!";
				},
				updated:function(){
					console.log("updated");
				}
				
			})
        </script>
    </body>
</html>
```

